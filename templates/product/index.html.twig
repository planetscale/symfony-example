{% extends 'base.html.twig' %}

{% block title %}Products{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">

    {% if connected %}
        <div class="alert alert-success">
            <p>You are connected to <i> {{ connected }}</i></p>
        </div>
    {% else %}
        <div class="alert alert-danger">
            <p>Your database is not connected </p>
        </div>
    {% endif %}

    <div>
        <div>
            <h2>List of products</h2>
        </div>

        <div>
            <div class="container py-5">
                {% if products %}
                    <div class="row">
                        <div class="col-lg-12 mx-auto">
                            <ul class="list-group shadow">
                                {% for product in products %}
                                    <li class="list-group-item">
                                        <div class="media align-items-lg-center flex-column flex-lg-row p-3">
                                            <div class="media-body order-2 order-lg-1">
                                                <h5 class="mt-0 font-weight-bold mb-2">{{ product.name }}</h5>
                                                <p class="font-italic text-muted mb-0 small">{{ product.description }}</p>
                                                <p><small> Category: <b>{{ category(product.categoryId).name }}</b></small></p>
                                            </div>
                                            <img src="{{ product.image }}" alt="Generic placeholder image" width="250"
                                                 class="ml-lg-5 img-fluid order-1 order-lg-2">
                                        </div>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>

                {% else %}

                    <div class="row">
                        <p>No products found</p>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>


</div>
{% endblock %}
